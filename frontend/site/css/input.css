@tailwind base;
@tailwind components;

@media (prefers-reduced-motion: reduce) {
    #revealCircle {
        transition: none !important;
        opacity: 0 !important;
    }

    #eventOverlay {
        transition: opacity 0.3s ease !important;
    }

    #eventOverlay:not(.hidden) #revealCircle {
        width: 200vw !important;
        /* Force open state immediately */
        height: 200vw !important;
    }
}

@tailwind utilities;

@layer utilities {
    .animate-bounce-slow {
        animation: bounce 3s infinite;
    }
}

@layer utilities {
    .glass {
        @apply bg-white/10 backdrop-blur-md border border-white/20 shadow-lg;
    }

    .glass-dark {
        @apply bg-gray-900/40 backdrop-blur-md border border-white/10 shadow-lg;
    }
}

html {
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-700 rounded-full;
}


::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-600;
}

#homeSlider img {
    transform: translateZ(0);
}

/* Smooth Theme Transitions */
html.theme-transitioning,
html.theme-transitioning *,
html.theme-transitioning *:before,
html.theme-transitioning *:after {
    transition: background-color 0.4s ease,
        color 0.4s ease,
        border-color 0.4s ease,
        box-shadow 0.4s ease !important;
    transition-delay: 0s !important;
}

/* Event Overlay System */
:root {
    --bubble-x: 0px;
    --bubble-y: 0px;
}

/* Floating Bubble Button */
#eventBubble {
    animation: bubble-pulse 2s ease-in-out infinite;
}

@keyframes bubble-pulse {

    0%,
    100% {
        transform: scale(1);
        box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.3);
    }

    50% {
        transform: scale(1.05);
        box-shadow: 0 15px 30px -5px rgba(59, 130, 246, 0.5);
    }
}

/* Event Overlay Container */
.event-overlay {
    @apply fixed inset-0 z-[200] flex items-center justify-center;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    opacity: 0;
    pointer-events: none;
    clip-path: circle(0% at var(--bubble-x) var(--bubble-y));
    transition: clip-path 0.6s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
}

.event-overlay.open {
    opacity: 1;
    pointer-events: auto;
    clip-path: circle(150% at var(--bubble-x) var(--bubble-y));
}

.event-overlay.closing {
    opacity: 0;
    pointer-events: none;
    clip-path: circle(0% at var(--bubble-x) var(--bubble-y));
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .event-overlay {
        clip-path: none !important;
        transition: opacity 0.3s ease !important;
    }

    .event-overlay.open {
        clip-path: none !important;
    }
}

/* Overlay Inner Content */
.event-overlay-inner {
    @apply relative z-10 max-w-4xl w-full mx-4 p-6 sm:p-8;
    opacity: 0;
    transform: scale(0.9);
    transition: opacity 0.4s ease 0.2s, transform 0.4s ease 0.2s;
}

.event-overlay.open .event-overlay-inner {
    opacity: 1;
    transform: scale(1);
}

.event-overlay.closing .event-overlay-inner {
    opacity: 0;
    transform: scale(0.9);
    transition-delay: 0s;
}

/* Close Button */
.event-close-btn {
    @apply absolute top-4 right-4 w-10 h-10 rounded-full;
    @apply bg-white/10 hover:bg-white/20 text-white;
    @apply flex items-center justify-center text-2xl;
    @apply transition-all duration-200 hover:scale-110 active:scale-95;
    z-index: 20;
}

/* Event Title */
.event-title {
    @apply text-2xl sm:text-3xl font-bold text-white text-center mb-6;
}

/* Event Content */
.event-content {
    @apply flex flex-col items-center gap-4;
}

/* Event Poster Container */
.event-poster-container {
    @apply w-full max-w-2xl bg-black/30 rounded-xl overflow-hidden;
    @apply border border-white/10;
}

.event-poster-image {
    @apply w-full h-auto max-h-[60vh] object-contain;
}

/* Event Poster Title */
.event-poster-title {
    @apply text-xl sm:text-2xl font-bold text-white text-center mt-4;
}

/* Event Dates */
.event-dates {
    @apply text-sm sm:text-base text-slate-300 text-center space-y-1;
}

/* Event Navigation */
.event-navigation {
    @apply flex items-center justify-center gap-4 mt-6;
}

.event-nav-btn {
    @apply w-10 h-10 rounded-full bg-white/10 hover:bg-white/20;
    @apply text-white flex items-center justify-center;
    @apply transition-all duration-200 hover:scale-110 active:scale-95;
    @apply disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:scale-100;
}

.event-dots {
    @apply flex gap-2;
}

.event-dot {
    @apply w-2.5 h-2.5 rounded-full bg-white/30 transition-all duration-200;
}

.event-dot.active {
    @apply bg-white w-6;
}

.event-dot:hover:not(.active) {
    @apply bg-white/50;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    #revealCircle {
        transition: none !important;
        opacity: 0 !important;
    }

    #eventOverlay:not(.hidden) #revealCircle {
        width: 200vw !important;
        height: 200vw !important;
    }

    .event-overlay {
        transition: opacity 0.3s ease !important;
    }

    .event-overlay-inner {
        transition: opacity 0.3s ease !important;
        transform: none !important;
    }

    #eventBubble {
        animation: none !important;
    }
}